<!DOCTYPE html>
<html>
  <head>
    <title>Launcher Test - LoadOneAd</title>
    <script>var cnvr_launcher_options={lid:16};</script>    
    <script src="//secure.cdn.fastclick.net/js/cnvr-launcher/latest/launcher-stub.min.js"></script>
    <script>
      function hasScript(searchString){
         const scripts = document.getElementsByTagName('script');
         for(let i = 0;i < scripts.length; i++){
            const src = scripts[i].src;
            if(src.indexOf(searchString) >= 0)
               return scripts[i];
         }
      }
    </script>
  </head>
<body>
  <div>
    <h3>Script Loading Status</h3>
    <input type="checkbox" name="launcher.min" value="launcher.min" onclick="return false;">Launcher core<br/>
    <input type="checkbox" name="pubcid" value="pubcid" onclick="return false;">Pubcid<br/>
    <input type="checkbox" name="pubcode" value="pubcode" onclick="return false;">Pubcode<br/>
    <input type="checkbox" name="cvl" value="cvl" onclick="return false;">Analytics<br/>
    <input type="checkbox" name="cmp" value="cmp" onclick="return false;">GDPR CMP<br/>
    <br/>
    <p id="pubcidValue">Pubcid Value: </p>
  </div>
  <script>
    function checkStatus() {
        var checkList = ['launcher.min', 'pubcid', 'pubcode', 'cvl', 'cmp'];
        for (let i = 0; i < checkList.length; ++i) {
            var item = hasScript(checkList[i]);
                        
            var boxes = document.getElementsByName(checkList[i]);
            if (boxes.length > 0) {
                boxes[0].checked = (item !== undefined) ? true : false;
            }
        }

        var pubcidValue = (typeof PublisherCommonId !== 'undefined') ? PublisherCommonId.getId() : 'None';
        var pubcidNode = document.getElementById('pubcidValue');
        pubcidNode.innerHTML = 'Pubcid Value: ' + pubcidValue;
    }
    checkStatus();
    setInterval(checkStatus, 1000);
  </script>

  <h3>LoadOneAd Tests</h3>
  <div id="container-1">
    <script>
      conversant.launch('pubcode', 'loadOneAd',
      {
      sid: 124038,
      id: "fd59745",
      location: "container-1",
      format: [{w: 300, h:250}]
      }
      );
    </script>
  </div>
  <div id="container-2">
    <script>
      conversant.launch('pubcode', 'loadOneAd',
      {
      sid: 124038,
      id: "af9a7ae",
      location: "container-2",
      format: [{w: 180, h:150}]
      }
      );
    </script>
  </div>
  <div id="container-3">
    <script>
      conversant.launch('pubcode', 'loadOneAd',
      {
      sid: 124038,
      id: "9c635fc",
      location: "container-3",
      format: [{w: 468, h: 60}]
      }
      );
    </script>
  </div>
</body>
</html>
